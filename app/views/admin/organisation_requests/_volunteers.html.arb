# frozen_string_literal: true

div class: 'title h4' do
  span 'Dobrovoln√≠ci'
  span link_to('', new_admin_organisation_request_requested_volunteer_path(organisation_request_id: resource.id), class: 'action add') if can?(:manage, Request)
end

table_for resource.requested_volunteers.order(:state) do
  delete_link = proc do |volunteer|
    link_to I18n.t('active_admin.delete_model'), admin_organisation_request_requested_volunteer_path(volunteer.request.id, volunteer.id), method: :delete
  end

  column :first_name
  column :last_name
  column :state
  column 'Akce', class: 'centered' do |label|
    delete_link[label] if can?(:manage, Request)
  end
end
